class Solution {
  public:
  
  bool dfs(int node , vector<vector<int>> &adj , vector<bool> &visited , vector<bool> &inStack){
      visited[node] = true;
      inStack[node] = true;
      
      for(int neighbor : adj[node]){
          if(!visited[neighbor]){
              if(dfs(neighbor , adj , visited , inStack)) return true;
          } else if(inStack[neighbor]){
              return true;
          }
      }
      inStack[node] = false;
      return false;
  }
    bool isCyclic(int V, vector<vector<int>> &edges) {
        vector<vector<int>> adj(V);
        
        for(auto &e : edges){
           adj[e[0]].push_back(e[1]); 
        }
        
        vector<bool> visited(V , false);
        vector<bool> inStack(V , false);
        
        for(int i= 0; i<V ; i++){
            if(!visited[i]){
                if(dfs(i , adj,  visited, inStack)) return true;
            }
        }
        return false;
        
    }
};
